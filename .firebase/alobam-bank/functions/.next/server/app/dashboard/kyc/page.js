(()=>{var e={};e.id=51,e.ids=[51],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14975:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},20161:(e,t,r)=>{"use strict";r.d(t,{q:()=>a});var s=r(6475);let a=(0,s.createServerReference)("407833468a9cea4c45f8e9d0be623cbe901a5917fd",s.callServer,void 0,s.findSourceMapURL,"fetchKycData")},21820:e=>{"use strict";e.exports=require("os")},27389:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/george/Desktop/projects/alobam-bank/src/app/dashboard/kyc/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/george/Desktop/projects/alobam-bank/src/app/dashboard/kyc/page.tsx","default")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30474:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(31261),a=r.n(s)},31261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return n}});let s=r(37366),a=r(44953),i=r(46533),o=s._(r(1933));function n(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=i.Image},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35360:(e,t,r)=>{Promise.resolve().then(r.bind(r,63902))},36497:(e,t,r)=>{"use strict";r.d(t,{$4:()=>g,$A:()=>n,$j:()=>R,AV:()=>x,Dd:()=>y,Do:()=>i,H7:()=>h,Ih:()=>l,Nd:()=>j,Nt:()=>d,Oc:()=>A,Od:()=>k,QF:()=>m,R1:()=>f,Sr:()=>N,hI:()=>I,pP:()=>w,qw:()=>u,vL:()=>b,vR:()=>o,w1:()=>D,wF:()=>a,zi:()=>p});var s=r(45880);let a=s.z.object({email:s.z.string().email({message:"Invalid email address."}),password:s.z.string().min(6,{message:"Password must be at least 6 characters."})}),i=s.z.object({firstName:s.z.string().min(2,"First name must be at least 2 characters."),lastName:s.z.string().min(2,"Last name must be at least 2 characters."),email:s.z.string().email({message:"Invalid email address."}),password:s.z.string().min(8,"Password must be at least 8 characters."),phoneNumber:s.z.string().min(10,"Phone number seems too short.").optional().or(s.z.literal("")),accountType:s.z.string().min(1,"Account type is required."),currency:s.z.string().min(3,"Currency code is required.").default("USD")});s.z.object({firstName:s.z.string().min(2,"First name must be at least 2 characters."),lastName:s.z.string().min(2,"Last name must be at least 2 characters."),email:s.z.string().email({message:"Invalid email address."}),password:s.z.string().min(8,"Password must be at least 8 characters."),phoneNumber:s.z.string().min(10,"Phone number seems too short.").optional().or(s.z.literal("")),accountType:s.z.string().min(1,"Account type is required."),currency:s.z.string().min(3,"Currency code is required.").default("USD"),role:s.z.enum(["user","admin"],{required_error:"Role is required."})});let o=s.z.object({firstName:s.z.string().min(2,"First name must be at least 2 characters."),lastName:s.z.string().min(2,"Last name must be at least 2 characters."),phoneNumber:s.z.string().min(10,"Phone number is invalid.").optional().or(s.z.literal(""))}),n=s.z.object({currentPassword:s.z.string().min(1,"Current password is required."),newPassword:s.z.string().min(8,"New password must be at least 8 characters."),confirmPassword:s.z.string().min(8,"Confirm password must be at least 8 characters.")}).refine(e=>e.newPassword===e.confirmPassword,{message:"New passwords do not match.",path:["confirmPassword"]}),l=s.z.object({email:s.z.string().email({message:"Please enter a valid email address."})}),c=["image/jpeg","image/jpg","image/png","image/webp"],d=s.z.object({fullName:s.z.string().min(2,{message:"Full name must be at least 2 characters."}),dateOfBirth:s.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,{message:"Date of birth must be in YYYY-MM-DD format."}),address:s.z.string().min(5,{message:"Address must be at least 5 characters."}),governmentId:s.z.string().min(5,{message:"Government ID must be at least 5 characters."}),governmentIdPhoto:s.z.any().refine(e=>e?.length==1,"Government ID photo is required.").refine(e=>e?.[0]?.size<=5242880,"Max file size is 5MB.").refine(e=>c.includes(e?.[0]?.type),".jpg, .jpeg, .png and .webp files are accepted.")}),m=s.z.object({amount:s.z.number().min(100,"Minimum loan amount is $100.").max(1e5,"Maximum loan amount is $100,000."),termMonths:s.z.number().min(3,"Minimum term is 3 months.").max(60,"Maximum term is 60 months."),purpose:s.z.string().min(10,"Please provide a brief purpose for the loan (min 10 characters).")});s.z.object({description:s.z.string().min(3,"Description is too short."),amount:s.z.number().positive("Amount must be positive."),type:s.z.enum(["deposit","withdrawal"]),date:s.z.date()});let u=s.z.object({recipientName:s.z.string().min(2,"Recipient name must be at least 2 characters."),recipientAccountNumber:s.z.string().min(5,"Account number must be at least 5 characters."),bankName:s.z.string().min(3,"Bank name must be at least 3 characters.").optional(),routingNumber:s.z.string().min(8,"Routing number must be at least 8 characters.").max(12,"Routing number is too long."),amount:s.z.coerce.number().positive({message:"Amount must be positive."}),remarks:s.z.string().max(100,"Remarks cannot exceed 100 characters.").optional()}),p=s.z.object({recipientName:s.z.string().min(2,"Recipient name must be at least 2 characters."),recipientAccountNumberIBAN:s.z.string().min(15,"Account number/IBAN seems too short.").max(34,"Account number/IBAN seems too long."),bankName:s.z.string().min(3,"Bank name must be at least 3 characters."),swiftBic:s.z.string().regex(/^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$/,"Invalid SWIFT/BIC code format.").optional().or(s.z.literal("")),recipientBankAddress:s.z.string().min(5,"Bank address is too short.").optional(),country:s.z.string().min(2,"Country selection is required.").optional().or(s.z.literal("")),amount:s.z.coerce.number().positive({message:"Amount must be positive."}),currency:s.z.string().default("USD"),remarks:s.z.string().max(100,"Remarks cannot exceed 100 characters.").optional()});s.z.object({name:s.z.string().min(2,"Account type name must be at least 2 characters."),description:s.z.string().max(200,"Description cannot exceed 200 characters.").optional()});let g=s.z.object({subject:s.z.string().min(5,"Subject must be at least 5 characters.").max(100,"Subject cannot exceed 100 characters."),message:s.z.string().min(20,"Message must be at least 20 characters.").max(2e3,"Message cannot exceed 2000 characters.")}),h=s.z.object({platformName:s.z.string().min(1,"Platform name is required.").optional(),supportEmail:s.z.string().email("Invalid email address.").optional(),maintenanceMode:s.z.boolean().optional(),cotPercentage:s.z.coerce.number().min(0,"COT percentage cannot be negative.").max(100,"COT percentage cannot exceed 100.").optional(),requireCOTConfirmation:s.z.boolean().optional(),requireIMFAuthorization:s.z.boolean().optional(),requireTaxClearance:s.z.boolean().optional(),enableOtpForTransfers:s.z.boolean().optional(),platformLogoText:s.z.string().min(1,"Logo text cannot be empty if provided.").max(30,"Logo text too long.").optional().or(s.z.literal("")),platformLogoIcon:s.z.string().min(1,"Icon name cannot be empty if provided.").max(50,"Icon name too long.").optional().or(s.z.literal("")),emailLogoImageUrl:s.z.string().url("Invalid URL for email logo image.").or(s.z.string().startsWith("/",{message:"Local image URL must start with /"})).optional().or(s.z.literal("")),resendApiKey:s.z.string().min(1,"Resend API Key is required if Resend is enabled.").optional().or(s.z.literal("")),resendFromEmail:s.z.string().email("Invalid 'From' email address for Resend.").optional().or(s.z.literal(""))}),x=s.z.object({autoApproveKycRiskLevel:s.z.enum(["low","medium","high","none"]).optional(),aiKycEnabled:s.z.boolean().optional()}),b=s.z.object({maxLoanAmount:s.z.coerce.number().positive("Max loan amount must be positive.").optional(),defaultInterestRate:s.z.coerce.number().min(0).max(1,"Interest rate must be between 0 and 1 (e.g., 0.05 for 5%)").optional()}),f=s.z.object({headline:s.z.string().min(5,"Headline is too short.").max(100,"Headline is too long."),subheading:s.z.string().min(10,"Subheading is too short.").max(200,"Subheading is too long."),ctaButtonText:s.z.string().min(3,"Button text is too short.").max(30,"Button text is too long."),learnMoreLink:s.z.string().url({message:"Invalid URL for learn more link."}).or(s.z.string().startsWith("#")).optional().or(s.z.literal("")),imageUrl:s.z.string().url({message:"Invalid image URL."}).or(s.z.string().startsWith("/images/")).optional().or(s.z.literal("")),imageAlt:s.z.string().min(3,"Image alt text is too short.").max(100,"Image alt text is too long.").optional().or(s.z.literal(""))}),z=s.z.object({icon:s.z.string().min(1,"Icon name is required.").max(50,"Icon name too long."),title:s.z.string().min(3,"Feature title is too short.").max(50,"Feature title is too long."),description:s.z.string().min(10,"Feature description is too short.").max(150,"Feature description is too long.")}),j=s.z.object({headline:s.z.string().min(5,"Headline is too short.").max(100,"Headline is too long.").optional().or(s.z.literal("")),subheading:s.z.string().min(10,"Subheading is too short.").max(200,"Subheading is too long.").optional().or(s.z.literal("")),features:s.z.array(z).optional()}),v=s.z.object({icon:s.z.string().min(1,"Icon name is required.").max(50,"Icon name too long."),name:s.z.string().min(3,"Account name is too short.").max(50,"Account name is too long."),description:s.z.string().min(10,"Account description is too short.").max(150,"Account description is too long."),features:s.z.array(s.z.string().min(3,"Feature text is too short.").max(100,"Feature text is too long.")).optional(),learnMoreLink:s.z.string().url({message:"Invalid URL."}).or(s.z.string().startsWith("#")).optional().or(s.z.literal(""))}),y=s.z.object({headline:s.z.string().min(5,"Headline is too short.").max(100,"Headline is too long.").optional().or(s.z.literal("")),subheading:s.z.string().min(10,"Subheading is too short.").max(200,"Subheading is too long.").optional().or(s.z.literal("")),accounts:s.z.array(v).optional()}),w=s.z.object({headline:s.z.string().min(5,"Headline is too short.").max(100,"Headline is too long."),description:s.z.string().min(10,"Description is too short.").max(250,"Description is too long."),imageUrl:s.z.string().url({message:"Invalid image URL."}).or(s.z.string().startsWith("/images/")).optional().or(s.z.literal("")),imageAlt:s.z.string().min(3,"Image alt text is too short.").max(100,"Image alt text is too long.").optional().or(s.z.literal("")),ctaButtonText:s.z.string().min(3,"Button text is too short.").max(30,"Button text is too long."),ctaButtonLink:s.z.string().url({message:"Invalid URL for button link."}).or(s.z.string().startsWith("#")).optional().or(s.z.literal(""))}),N=s.z.object({headline:s.z.string().min(5,"Headline is too short.").max(100,"Headline is too long."),description:s.z.string().min(10,"Description is too short.").max(250,"Description is too long."),ctaButtonText:s.z.string().min(3,"Button text is too short.").max(30,"Button text is too long."),ctaButtonLink:s.z.string().url({message:"Invalid URL for button link."}).or(s.z.string().startsWith("#")).optional().or(s.z.literal("")),imageUrl:s.z.string().url({message:"Invalid image URL."}).or(s.z.string().startsWith("/images/")).optional().or(s.z.literal("")),imageAlt:s.z.string().min(3,"Image alt text is too short.").max(100,"Image alt text is too long.").optional().or(s.z.literal(""))}),k=s.z.object({headline:s.z.string().min(5,"Headline is too short.").max(100,"Headline is too long."),description:s.z.string().min(10,"Description is too short.").max(250,"Description is too long."),ctaButtonText:s.z.string().min(3,"Button text is too short.").max(30,"Button text is too long."),ctaButtonLink:s.z.string().url({message:"Invalid URL for button link."}).or(s.z.string().startsWith("#")).optional().or(s.z.literal("")),imageUrl:s.z.string().url({message:"Invalid image URL."}).or(s.z.string().startsWith("/images/")).optional().or(s.z.literal("")),imageAlt:s.z.string().min(3,"Image alt text is too short.").max(100,"Image alt text is too long.").optional().or(s.z.literal(""))}),I=s.z.object({headline:s.z.string().min(5,"Headline is too short.").max(100,"Headline is too long."),ctaButtonText:s.z.string().min(3,"Button text is too short.").max(30,"Button text is too long."),ctaButtonLink:s.z.string().url({message:"Invalid URL for button link."}).or(s.z.string().startsWith("#")).optional().or(s.z.literal(""))}),A=s.z.object({headline:s.z.string().min(5,"Headline is too short.").max(100,"Headline is too long."),subheading:s.z.string().min(10,"Subheading is too short.").max(200,"Subheading is too long."),ctaButtonText:s.z.string().min(3,"Button text is too short.").max(30,"Button text is too long."),ctaButtonLink:s.z.string().url({message:"Invalid URL for button link."}).or(s.z.string().startsWith("#")).optional().or(s.z.literal(""))}),C=s.z.object({label:s.z.string().min(1,"Link label is required.").max(30,"Link label is too long."),href:s.z.string().min(1,"Link URL/path is required.").max(200,"Link URL is too long.")}),R=s.z.object({navLinks:s.z.array(C).optional()}),L=s.z.object({title:s.z.string().min(1,"Column title is required.").max(50,"Column title is too long."),links:s.z.array(C).optional()}),P=s.z.object({platform:s.z.string().min(1,"Platform name is required.").max(50,"Platform name too long."),href:s.z.string().url({message:"Invalid URL for social media link."}),iconName:s.z.string().min(1,"Icon name is required.").max(50,"Icon name too long.").optional().or(s.z.literal(""))}),D=s.z.object({footerDescription:s.z.string().max(300,"Description is too long.").optional().or(s.z.literal("")),footerCopyright:s.z.string().max(150,"Copyright text is too long.").optional().or(s.z.literal("")),footerQuickLinkColumns:s.z.array(L).optional(),footerSocialMediaLinks:s.z.array(P).optional()})},46699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(65239),a=r(48088),i=r(88170),o=r.n(i),n=r(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let c={children:["",{children:["dashboard",{children:["kyc",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27389)),"/home/george/Desktop/projects/alobam-bank/src/app/dashboard/kyc/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,63144)),"/home/george/Desktop/projects/alobam-bank/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/george/Desktop/projects/alobam-bank/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/george/Desktop/projects/alobam-bank/src/app/dashboard/kyc/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/kyc/page",pathname:"/dashboard/kyc",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},48867:(e,t,r)=>{Promise.resolve().then(r.bind(r,27389))},55511:e=>{"use strict";e.exports=require("crypto")},57075:e=>{"use strict";e.exports=require("node:stream")},62939:(e,t,r)=>{Promise.resolve().then(r.bind(r,70785))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63144:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/george/Desktop/projects/alobam-bank/src/app/dashboard/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/george/Desktop/projects/alobam-bank/src/app/dashboard/layout.tsx","default")},63902:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(60687);r(43210);var a=r(16189),i=r(84369),o=r(74911),n=r(11844),l=r(1679),c=r(7956),d=r(86622),m=r(11516),u=r(79272);function p({children:e}){let{user:t,loading:r}=(0,i.A)();(0,a.useRouter)();let p=new Date().getFullYear();return r||!t?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center bg-background text-foreground",children:(0,s.jsx)(m.A,{className:"h-12 w-12 animate-spin text-primary"})}):(0,s.jsx)(c.GB,{defaultOpen:!0,children:(0,s.jsxs)("div",{className:"flex min-h-screen bg-background text-foreground",children:[(0,s.jsxs)(c.Bx,{collapsible:"icon",className:"border-r bg-sidebar text-sidebar-foreground",children:[(0,s.jsx)(c.Gh,{className:"p-4",children:(0,s.jsx)(o.AppLogo,{colorVariant:"sidebar"})}),(0,s.jsx)(c.Yv,{className:"p-2",children:(0,s.jsx)(n.c,{})}),(0,s.jsx)(c.CG,{className:"p-4 border-t border-sidebar-border",children:(0,s.jsx)(d.c,{className:"w-full justify-start"})})]}),(0,s.jsxs)(c.sF,{className:"flex-1 flex flex-col",children:[" ",(0,s.jsxs)("header",{className:"sticky top-0 z-40 flex h-16 items-center justify-between border-b bg-background/95 px-4 sm:px-6 backdrop-blur supports-[backdrop-filter]:bg-background/60 md:justify-end",children:[(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(c.x2,{})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(u.U,{}),(0,s.jsx)(l.p,{})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:e}),(0,s.jsxs)("footer",{className:"p-4 text-center text-xs text-muted-foreground border-t border-border",children:["\xa9 ",p," Wohana Funds. All rights reserved."]})]})]})})}},70785:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var s=r(60687),a=r(43210),i=r(44493),o=r(63442),n=r(27605),l=r(29523),c=r(71669),d=r(89667),m=r(36497),u=r(6475);let p=(0,u.createServerReference)("60f32d43ada7d2374a46b0df1d35ef084cebf5df3b",u.callServer,void 0,u.findSourceMapURL,"submitKycAction");var g=r(84369),h=r(11516),x=r(29867),b=r(30474);function f({onSuccess:e}){let{user:t,fetchUserProfile:r}=(0,g.A)(),{toast:i}=(0,x.dj)(),[u,f]=(0,a.useState)(!1),[z,j]=(0,a.useState)(null),v=(0,n.mN)({resolver:(0,o.u)(m.Nt),defaultValues:{fullName:"",dateOfBirth:"",address:"",governmentId:"",governmentIdPhoto:void 0}}),y=e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{j(e.result)},e.readAsDataURL(t)}else j(null)},w=async s=>{if(!t){i({title:"Authentication Error",description:"You must be logged in to submit KYC.",variant:"destructive"});return}f(!0);try{let a=await p(t.uid,s);a.success?(i({title:"KYC Submitted",description:a.message}),v.reset(),j(null),await r(t.uid),e&&e(a)):(i({title:"KYC Submission Failed",description:a.message||"An error occurred. Please check your inputs and try again.",variant:"destructive",duration:1e4}),a.error&&"string"!=typeof a.error&&Object.entries(a.error).forEach(([e,t])=>{Array.isArray(t)&&v.setError(e,{type:"server",message:t.join(", ")})}))}catch(e){console.error("KYC submission error",e),i({title:"Error",description:"An unexpected error occurred during KYC submission.",variant:"destructive"})}finally{f(!1)}};return(0,s.jsx)(c.lV,{...v,children:(0,s.jsxs)("form",{onSubmit:v.handleSubmit(w),className:"space-y-8",children:[(0,s.jsx)(c.zB,{control:v.control,name:"fullName",render:({field:e})=>(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.lR,{children:"Full Name"}),(0,s.jsx)(c.MJ,{children:(0,s.jsx)(d.p,{placeholder:"John Doe",...e})}),(0,s.jsx)(c.Rr,{children:"As it appears on your government ID."}),(0,s.jsx)(c.C5,{})]})}),(0,s.jsx)(c.zB,{control:v.control,name:"dateOfBirth",render:({field:e})=>(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.lR,{children:"Date of Birth"}),(0,s.jsx)(c.MJ,{children:(0,s.jsx)(d.p,{type:"date",...e})}),(0,s.jsx)(c.Rr,{children:"Format: YYYY-MM-DD."}),(0,s.jsx)(c.C5,{})]})}),(0,s.jsx)(c.zB,{control:v.control,name:"address",render:({field:e})=>(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.lR,{children:"Full Address"}),(0,s.jsx)(c.MJ,{children:(0,s.jsx)(d.p,{placeholder:"123 Main St, Anytown, USA",...e})}),(0,s.jsx)(c.C5,{})]})}),(0,s.jsx)(c.zB,{control:v.control,name:"governmentId",render:({field:e})=>(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.lR,{children:"Government ID Number"}),(0,s.jsx)(c.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Driver's License or Passport No.",...e})}),(0,s.jsx)(c.C5,{})]})}),(0,s.jsx)(c.zB,{control:v.control,name:"governmentIdPhoto",render:({field:{onChange:e,onBlur:t,name:r,ref:a}})=>(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.lR,{children:"Government ID Photo"}),(0,s.jsx)(c.MJ,{children:(0,s.jsx)(d.p,{type:"file",accept:"image/png, image/jpeg, image/webp",onChange:t=>{e(t.target.files),y(t)},onBlur:t,name:r,ref:a})}),(0,s.jsx)(c.Rr,{children:"Upload a clear photo of your government-issued ID (e.g., Passport, Driver's License). Max 5MB."}),(0,s.jsx)(c.C5,{})]})}),z&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)(c.lR,{children:"Photo Preview"}),(0,s.jsx)("div",{className:"mt-2 aspect-video w-full max-w-md rounded-md border border-dashed border-border p-2",children:(0,s.jsx)(b.default,{src:z,alt:"ID Preview",width:400,height:225,className:"object-contain w-full h-full"})})]}),(0,s.jsxs)(l.$,{type:"submit",disabled:u,className:"w-full sm:w-auto",children:[u&&(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Submit KYC Information"]})]})})}r(20161);var z=r(91821),j=r(96834),v=r(21724),y=r(82614);let w=(0,y.A)("ShieldQuestion",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),N=(0,y.A)("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);var k=r(14975),I=r(35950);function A(){let{user:e,userProfile:t}=(0,g.A)(),[r,o]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0),c=r?.status?.replace("_"," ")||t?.kycStatus?.replace("_"," ")||"Not Started",d=e=>e?!(e instanceof Date)||isNaN(e.getTime())?(console.warn("formatDate: Received invalid Date object:",e),"Invalid Date"):e.toLocaleDateString():"N/A";return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"KYC Verification"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Complete your Know Your Customer (KYC) verification to access all platform features."}),n&&(0,s.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,s.jsx)(h.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("p",{className:"ml-2",children:"Loading KYC status..."})]}),!n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(e=>{switch(e){case"verified":return(0,s.jsx)(v.A,{className:"h-5 w-5 text-green-500"});case"pending_review":return(0,s.jsx)(w,{className:"h-5 w-5 text-yellow-500"});case"rejected":return(0,s.jsx)(N,{className:"h-5 w-5 text-red-500"});default:return(0,s.jsx)(w,{className:"h-5 w-5 text-muted-foreground"})}})(r?.status||t?.kycStatus),"Current KYC Status"]}),(0,s.jsx)(i.BT,{children:"Your current identity verification status."})]}),(0,s.jsxs)(i.Wu,{children:[(0,s.jsx)(j.E,{variant:(e=>{switch(e){case"verified":return"default";case"pending_review":return"secondary";case"rejected":return"destructive";default:return"outline"}})(r?.status||t?.kycStatus),className:"text-lg px-3 py-1",children:c.toUpperCase()}),r?.submittedAt&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Submitted on: ",d(r.submittedAt)]}),r?.reviewedAt&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Reviewed on: ",d(r.reviewedAt)]}),r?.rejectionReason&&"rejected"===r.status&&(0,s.jsxs)(z.Fc,{variant:"destructive",className:"mt-4",children:[(0,s.jsx)(k.A,{className:"h-4 w-4"}),(0,s.jsx)(z.XL,{children:"Submission Rejected"}),(0,s.jsxs)(z.TN,{children:["Reason: ",r.rejectionReason]})]})]})]}),(r?.status==="not_started"||r?.status==="rejected"||!r)&&(!t||"not_started"===t.kycStatus||"rejected"===t.kycStatus)&&(0,s.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Submit Your KYC Information"}),(0,s.jsx)(i.BT,{children:r?.status==="rejected"?"Your previous KYC submission was rejected. Please review any feedback and resubmit.":"Please fill out the form below to complete your KYC verification."})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)(f,{onSuccess:t=>{if(t.kycData){let r=t.kycData;o({...r,userId:r.userId||e?.uid||"",submittedAt:r.submittedAt?new Date(r.submittedAt):void 0,reviewedAt:r.reviewedAt?new Date(r.reviewedAt):void 0})}}})})]}),r?.status==="pending_review"&&(0,s.jsxs)(z.Fc,{children:[(0,s.jsx)(w,{className:"h-4 w-4"}),(0,s.jsx)(z.XL,{children:"KYC Under Review"}),(0,s.jsx)(z.TN,{children:"Your KYC information has been submitted and is currently under review. We will notify you once the process is complete."})]}),r?.status==="verified"&&(0,s.jsxs)(z.Fc,{variant:"default",className:"bg-green-50 border-green-300 text-green-700 dark:bg-green-900 dark:border-green-700 dark:text-green-300",children:[(0,s.jsx)(v.A,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)(z.XL,{className:"text-green-700 dark:text-green-300",children:"KYC Verified!"}),(0,s.jsx)(z.TN,{className:"text-green-600 dark:text-green-400",children:"Congratulations! Your identity has been successfully verified."})]})]}),(0,s.jsx)(I.w,{className:"my-8"}),(0,s.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{children:"Why KYC?"})}),(0,s.jsxs)(i.Wu,{className:"text-muted-foreground space-y-2",children:[(0,s.jsx)("p",{children:"Know Your Customer (KYC) is a mandatory process for financial institutions to verify the identity of their clients. This helps prevent fraud, money laundering, and other illicit activities."}),(0,s.jsx)("p",{children:"By completing KYC, you help us maintain a secure and compliant platform for all users."})]})]})]})}},70794:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"000ba8576fdcae11f1077fd2f6107481a50b69a49c":()=>a.J$,"00395e5e4b03385e5ff3a61827ff2eda7721f4e6fd":()=>a.Ns,"00d3b7c7cd72c85ee48ae24fb4ba855eb43cfee9e5":()=>a.a0,"40025e4e4a62ac0df3f713f1de6e3d50476588d3ea":()=>i.Uv,"400eb76bda365b417c30a47efd618b51d7a0d73142":()=>i.yJ,"4020c28b5806231680bac26bd1a5f986057ba4604a":()=>a.ii,"4034cc97d27439f4c059c8a95b03da6fa61b86b0db":()=>s.u,"405eb9911f33c3d30f855e4f5a1527a24f42e6c294":()=>a.xk,"407833468a9cea4c45f8e9d0be623cbe901a5917fd":()=>i.q8,"407b998a89b103b17288a19e879fdbf57b42a451fa":()=>a.R3,"604312656f2004c1bcb55da4e8d649d32b089bca51":()=>s._,"60b14452f2d72ad132eb24ebf8cdfffaac0aeba994":()=>i.bV,"60b1e2ff96f372e51b9fcb16237485e016caa935df":()=>a.FE,"60b7017c32965df0f4b37f6b41e2c3384199228e56":()=>i.ME,"60c6837dc61523025f7e8e8a71c2c78356a4cc4227":()=>i.sB,"60f32d43ada7d2374a46b0df1d35ef084cebf5df3b":()=>i.uu,"60fb032d0a6e94593a35e425bce9ca174b108b6388":()=>i.fw,"60ff8321e9d694b897c700ee9ea58f57df8694f2ec":()=>a.yD,"7881aa90a7044a180c3b3db648fd0f4b6e31e64b42":()=>i.Lh});var s=r(30677),a=r(2235),i=r(72189)},71669:(e,t,r)=>{"use strict";r.d(t,{C5:()=>f,MJ:()=>x,Rr:()=>b,eI:()=>g,lR:()=>h,lV:()=>c,zB:()=>m});var s=r(60687),a=r(43210),i=r(8730),o=r(27605),n=r(4780),l=r(80013);let c=o.Op,d=a.createContext({}),m=({...e})=>(0,s.jsx)(d.Provider,{value:{name:e.name},children:(0,s.jsx)(o.xI,{...e})}),u=()=>{let e=a.useContext(d),t=a.useContext(p),{getFieldState:r,formState:s}=(0,o.xW)(),i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...i}},p=a.createContext({}),g=a.forwardRef(({className:e,...t},r)=>{let i=a.useId();return(0,s.jsx)(p.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:r,className:(0,n.cn)("space-y-2",e),...t})})});g.displayName="FormItem";let h=a.forwardRef(({className:e,...t},r)=>{let{error:a,formItemId:i}=u();return(0,s.jsx)(l.Label,{ref:r,className:(0,n.cn)(a&&"text-destructive",e),htmlFor:i,...t})});h.displayName="FormLabel";let x=a.forwardRef(({...e},t)=>{let{error:r,formItemId:a,formDescriptionId:o,formMessageId:n}=u();return(0,s.jsx)(i.DX,{ref:t,id:a,"aria-describedby":r?`${o} ${n}`:`${o}`,"aria-invalid":!!r,...e})});x.displayName="FormControl";let b=a.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:a}=u();return(0,s.jsx)("p",{ref:r,id:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})});b.displayName="FormDescription";let f=a.forwardRef(({className:e,children:t,...r},a)=>{let{error:i,formMessageId:o}=u(),l=i?String(i?.message??""):t;return l?(0,s.jsx)("p",{ref:a,id:o,className:(0,n.cn)("text-sm font-medium text-destructive",e),...r,children:l}):null});f.displayName="FormMessage"},71808:(e,t,r)=>{Promise.resolve().then(r.bind(r,63144))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,r)=>{"use strict";r.d(t,{Label:()=>c});var s=r(60687),a=r(43210),i=r(78148),o=r(24224),n=r(4780);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.b,{ref:r,className:(0,n.cn)(l(),e),...t}));c.displayName=i.b.displayName},81630:e=>{"use strict";e.exports=require("http")},84297:e=>{"use strict";e.exports=require("async_hooks")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96834:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var s=r(60687);r(43210);var a=r(24224),i=r(4780);let o=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:(0,i.cn)(o({variant:t}),e),...r})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,156,837,248,225,7,758,533,821,506,719,782],()=>r(46699));module.exports=s})();