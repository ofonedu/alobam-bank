(()=>{var e={};e.id=519,e.ids=[519],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8751:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(82614).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},15079:(e,s,t)=>{"use strict";t.d(s,{bq:()=>p,eb:()=>f,gC:()=>x,l6:()=>c,yv:()=>u});var a=t(60687),r=t(43210),i=t(22670),n=t(61662),l=t(89743),d=t(58450),o=t(4780);let c=i.bL;i.YJ;let u=i.WT,p=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.l9,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[s,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=i.l9.displayName;let m=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})}));m.displayName=i.PP.displayName;let h=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})}));h.displayName=i.wn.displayName;let x=r.forwardRef(({className:e,children:s,position:t="popper",...r},n)=>(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:n,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[(0,a.jsx)(m,{}),(0,a.jsx)(i.LM,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(h,{})]})}));x.displayName=i.UC.displayName,r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.JU.displayName;let f=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.q7,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:s})]}));f.displayName=i.q7.displayName,r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.wv.displayName},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},23847:(e,s,t)=>{Promise.resolve().then(t.bind(t,61626))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31154:(e,s,t)=>{"use strict";t.d(s,{$:()=>r});var a=t(6475);let r=(0,a.createServerReference)("7e96681ef909b91a10d9e85dc4e2d86abedd3d9f90",a.callServer,void 0,a.findSourceMapURL,"issueManualAdjustmentAction")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34729:(e,s,t)=>{"use strict";t.d(s,{T:()=>n});var a=t(60687),r=t(43210),i=t(4780);let n=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));n.displayName="Textarea"},41675:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=t(65239),r=t(48088),i=t(88170),n=t.n(i),l=t(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o={children:["",{children:["admin",{children:["financial-ops",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,92349)),"/home/george/Desktop/projects/alobam-bank/src/app/admin/financial-ops/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,99111)),"/home/george/Desktop/projects/alobam-bank/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/home/george/Desktop/projects/alobam-bank/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/george/Desktop/projects/alobam-bank/src/app/admin/financial-ops/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/financial-ops/page",pathname:"/admin/financial-ops",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},55511:e=>{"use strict";e.exports=require("crypto")},57075:e=>{"use strict";e.exports=require("node:stream")},61626:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var a=t(60687),r=t(43210),i=t(44493),n=t(29523),l=t(89667),d=t(80013),o=t(15079),c=t(34729),u=t(36558),p=t(82614);let m=(0,p.A)("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]),h=(0,p.A)("FileMinus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}]]);var x=t(11516),f=t(8751),g=t(81950);let b=(0,p.A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var v=t(48206),j=t(29867);t(75535),t(33784);var y=t(31154),w=t(6475);let N=(0,w.createServerReference)("70f7294112d7cf3ab36d93feeb3b0148aedfd029d6",w.callServer,void 0,w.findSourceMapURL,"generateRandomTransactionsAction");function k(){let{toast:e}=(0,j.dj)(),[s,t]=(0,r.useState)([]),[p,w]=(0,r.useState)(!0),[k,C]=(0,r.useState)(""),[q,A]=(0,r.useState)(""),[S,P]=(0,r.useState)("debit"),[M,R]=(0,r.useState)(""),[T,F]=(0,r.useState)(!1),[L,_]=(0,r.useState)(""),[U,D]=(0,r.useState)("5"),[G,I]=(0,r.useState)(""),[V,z]=(0,r.useState)(!1),H=async()=>{if(!k||!q||!M){e({title:"Missing Information",description:"Please select a user, enter an amount, and provide a description.",variant:"destructive"});return}let t=s.find(e=>e.uid===k);if(!t){e({title:"User Not Found",description:"Could not find selected user details.",variant:"destructive"});return}let a=t.primaryCurrency||"USD";F(!0);let r=await (0,y.$)(k,parseFloat(q),S,M,a);r.success?(e({title:"Success",description:r.message}),C(""),A(""),R("")):e({title:"Failed",description:r.message||"Could not process adjustment.",variant:"destructive"}),F(!1)},Z=async()=>{if(!L||!U||0>=parseInt(U)){e({title:"Missing Information",description:"Please select a user and enter a valid number of transactions.",variant:"destructive"});return}z(!0);let s=G?parseFloat(G):void 0;console.log(`AdminFinancialOpsPage: Calling generateRandomTransactionsAction for user ${L}, num: ${U}, targetNet: ${s}`);let t=await N(L,parseInt(U),s);console.log("AdminFinancialOpsPage: Result from generateRandomTransactionsAction:",t),t.success?(e({title:"Success",description:t.message}),_(""),D("5"),I("")):e({title:"Failed",description:t.message||"Could not generate history.",variant:"destructive"}),z(!1)};return(0,a.jsxs)("div",{className:"w-full space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center",children:[(0,a.jsx)(u.A,{className:"mr-2 h-8 w-8 text-primary"}),"Financial Operations"]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manually issue charges, credits, and manage other financial tasks."})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"flex items-center",children:["credit"===S?(0,a.jsx)(m,{className:"mr-2 h-5 w-5 text-green-500"}):(0,a.jsx)(h,{className:"mr-2 h-5 w-5 text-red-500"}),"Issue Manual Charge / Credit"]}),(0,a.jsx)(i.BT,{children:"Apply a manual debit (charge) or credit to a user's account. This will affect their balance."})]}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"userSelectCharge",children:"Select User"}),(0,a.jsxs)(o.l6,{value:k,onValueChange:C,disabled:p||T,children:[(0,a.jsx)(o.bq,{id:"userSelectCharge",children:(0,a.jsx)(o.yv,{placeholder:p?"Loading users...":"Select a user..."})}),(0,a.jsx)(o.gC,{children:s.map(e=>(0,a.jsxs)(o.eb,{value:e.uid,children:[e.displayName||e.email," (",e.uid.substring(0,6),"...)"]},e.uid))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"amountCharge",children:"Amount"}),(0,a.jsx)(l.p,{id:"amountCharge",type:"number",placeholder:"e.g., 25.00",value:q,onChange:e=>A(e.target.value),disabled:T})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"chargeTypeSelect",children:"Type"}),(0,a.jsxs)(o.l6,{value:S,onValueChange:e=>P(e),disabled:T,children:[(0,a.jsx)(o.bq,{id:"chargeTypeSelect",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"debit",children:"Debit (Charge User)"}),(0,a.jsx)(o.eb,{value:"credit",children:"Credit (Fund User)"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"descriptionCharge",children:"Description / Reason"}),(0,a.jsx)(c.T,{id:"descriptionCharge",placeholder:"e.g., Monthly maintenance fee, Bonus credit",value:M,onChange:e=>R(e.target.value),disabled:T,rows:3})]}),(0,a.jsxs)(n.$,{onClick:H,disabled:!k||!q||!M||T,children:[T?(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):"credit"===S?(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4"}):(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"credit"===S?"Issue Credit":"Apply Charge"]})]})]}),(0,a.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"flex items-center",children:[(0,a.jsx)(b,{className:"mr-2 h-5 w-5"}),"Generate Random Transaction History"]}),(0,a.jsx)(i.BT,{children:"For testing, generate random transactions for a user. This updates the user's balance."})]}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"userSelectHistory",children:"Select User"}),(0,a.jsxs)(o.l6,{value:L,onValueChange:_,disabled:p||V,children:[(0,a.jsx)(o.bq,{id:"userSelectHistory",children:(0,a.jsx)(o.yv,{placeholder:p?"Loading users...":"Select a user..."})}),(0,a.jsx)(o.gC,{children:s.map(e=>(0,a.jsxs)(o.eb,{value:e.uid,children:[e.displayName||e.email," (",e.uid.substring(0,6),"...)"]},e.uid))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"numTransactions",children:"Number of Transactions"}),(0,a.jsx)(l.p,{id:"numTransactions",type:"number",placeholder:"e.g., 5",value:U,onChange:e=>D(e.target.value),min:"1",max:"50",disabled:V})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"targetNetValue",children:"Target Net Value (Optional)"}),(0,a.jsx)(l.p,{id:"targetNetValue",type:"number",placeholder:"e.g., 500 or -200",value:G,onChange:e=>I(e.target.value),disabled:V})]})]}),(0,a.jsxs)(n.$,{onClick:Z,disabled:!L||!U||0>=parseInt(U)||V,children:[V?(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Generate History & Update Balance"]})]})]})]})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64015:(e,s,t)=>{Promise.resolve().then(t.bind(t,92349))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78148:(e,s,t)=>{"use strict";t.d(s,{b:()=>l});var a=t(43210),r=t(14163),i=t(60687),n=a.forwardRef((e,s)=>(0,i.jsx)(r.sG.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var l=n},79551:e=>{"use strict";e.exports=require("url")},80013:(e,s,t)=>{"use strict";t.d(s,{Label:()=>o});var a=t(60687),r=t(43210),i=t(78148),n=t(24224),l=t(4780);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.b,{ref:t,className:(0,l.cn)(d(),e),...s}));o.displayName=i.b.displayName},81630:e=>{"use strict";e.exports=require("http")},81950:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(82614).A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},84297:e=>{"use strict";e.exports=require("async_hooks")},91645:e=>{"use strict";e.exports=require("net")},92349:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/george/Desktop/projects/alobam-bank/src/app/admin/financial-ops/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/george/Desktop/projects/alobam-bank/src/app/admin/financial-ops/page.tsx","default")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[447,156,837,248,225,7,729,821,506,719,113],()=>t(41675));module.exports=a})();