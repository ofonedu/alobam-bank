(()=>{var e={};e.id=530,e.ids=[530],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8003:(e,t,s)=>{Promise.resolve().then(s.bind(s,99111))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},17222:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"000ba8576fdcae11f1077fd2f6107481a50b69a49c":()=>a.J$,"00395e5e4b03385e5ff3a61827ff2eda7721f4e6fd":()=>a.Ns,"00d3b7c7cd72c85ee48ae24fb4ba855eb43cfee9e5":()=>a.a0,"4020c28b5806231680bac26bd1a5f986057ba4604a":()=>a.ii,"4034cc97d27439f4c059c8a95b03da6fa61b86b0db":()=>r.u,"405eb9911f33c3d30f855e4f5a1527a24f42e6c294":()=>a.xk,"407b998a89b103b17288a19e879fdbf57b42a451fa":()=>a.R3,"604312656f2004c1bcb55da4e8d649d32b089bca51":()=>r._,"60b1e2ff96f372e51b9fcb16237485e016caa935df":()=>a.FE,"60ff8321e9d694b897c700ee9ea58f57df8694f2ec":()=>a.yD});var r=s(30677),a=s(2235)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27615:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>d});var r=s(65239),a=s(48088),n=s(88170),i=s.n(n),c=s(30893),o={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);s.d(t,o);let d={children:["",{children:["admin",{children:["settings",{children:["account-types",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,60046)),"/home/george/Desktop/projects/alobam-bank/src/app/admin/settings/account-types/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,99111)),"/home/george/Desktop/projects/alobam-bank/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/home/george/Desktop/projects/alobam-bank/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/home/george/Desktop/projects/alobam-bank/src/app/admin/settings/account-types/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/settings/account-types/page",pathname:"/admin/settings/account-types",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},57075:e=>{"use strict";e.exports=require("node:stream")},60046:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/george/Desktop/projects/alobam-bank/src/app/admin/settings/account-types/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/george/Desktop/projects/alobam-bank/src/app/admin/settings/account-types/page.tsx","default")},61193:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(60687);s(43210);var a=s(16189),n=s(84369),i=s(74911),c=s(11844),o=s(1679),d=s(7956),l=s(86622),u=s(11516),p=s(79272);function x({children:e}){let{user:t,loading:s,userProfile:x}=(0,n.A)();(0,a.useRouter)();let h=new Date().getFullYear(),m=x?.role==="admin";return!s&&t&&m?(0,r.jsx)(d.GB,{defaultOpen:!0,children:(0,r.jsxs)("div",{className:"flex min-h-screen bg-background text-foreground",children:[(0,r.jsxs)(d.Bx,{collapsible:"icon",className:"border-r bg-sidebar text-sidebar-foreground",children:[(0,r.jsx)(d.Gh,{className:"p-4",children:(0,r.jsx)(i.AppLogo,{colorVariant:"sidebar"})}),(0,r.jsx)(d.Yv,{className:"p-2",children:(0,r.jsx)(c.c,{isAdmin:!0})}),(0,r.jsx)(d.CG,{className:"p-4 border-t border-sidebar-border",children:(0,r.jsx)(l.c,{className:"w-full justify-start"})})]}),(0,r.jsxs)(d.sF,{className:"flex-1 flex flex-col",children:[" ",(0,r.jsxs)("header",{className:"sticky top-0 z-40 flex h-16 items-center justify-between border-b bg-background/95 px-4 sm:px-6 backdrop-blur supports-[backdrop-filter]:bg-background/60 md:justify-end",children:[(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)(d.x2,{})}),(0,r.jsxs)("div",{className:"flex items-center gap-2 md:gap-4",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-destructive",children:"ADMIN PANEL"}),(0,r.jsx)(p.U,{}),(0,r.jsx)(o.p,{})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:e}),(0,r.jsxs)("footer",{className:"p-4 text-center text-xs text-muted-foreground border-t border-border",children:["\xa9 ",h," Wohana Funds. All rights reserved."]})]})]})}):(0,r.jsxs)("div",{className:"flex h-screen items-center justify-center bg-background text-foreground",children:[(0,r.jsx)(u.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,r.jsx)("p",{className:"ml-2",children:m||s||!t?"Loading...":"Access Denied. Redirecting..."})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64552:(e,t,s)=>{Promise.resolve().then(s.bind(s,95144))},73496:e=>{"use strict";e.exports=require("http2")},73659:(e,t,s)=>{Promise.resolve().then(s.bind(s,61193))},74075:e=>{"use strict";e.exports=require("zlib")},77704:(e,t,s)=>{Promise.resolve().then(s.bind(s,60046))},78148:(e,t,s)=>{"use strict";s.d(t,{b:()=>c});var r=s(43210),a=s(14163),n=s(60687),i=r.forwardRef((e,t)=>(0,n.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var c=i},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},84297:e=>{"use strict";e.exports=require("async_hooks")},91645:e=>{"use strict";e.exports=require("net")},93508:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});var r=s(6475);let a=(0,r.createServerReference)("00395e5e4b03385e5ff3a61827ff2eda7721f4e6fd",r.callServer,void 0,r.findSourceMapURL,"getAccountTypesAction")},94735:e=>{"use strict";e.exports=require("events")},95144:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var r=s(60687),a=s(43210),n=s(29523),i=s(44493),c=s(89667),o=s(80013),d=s(34729),l=s(14975),u=s(11516),p=s(35265),x=s(99196);let h=(0,s(82614).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var m=s(57207),f=s(29867),j=s(93508),b=s(6475);let v=(0,b.createServerReference)("405eb9911f33c3d30f855e4f5a1527a24f42e6c294",b.callServer,void 0,b.findSourceMapURL,"addAccountTypeAction"),g=(0,b.createServerReference)("60ff8321e9d694b897c700ee9ea58f57df8694f2ec",b.callServer,void 0,b.findSourceMapURL,"editAccountTypeAction"),y=(0,b.createServerReference)("407b998a89b103b17288a19e879fdbf57b42a451fa",b.callServer,void 0,b.findSourceMapURL,"deleteAccountTypeAction");var A=s(91821),N=s(6211),w=s(63503),k=s(55925);let D=e=>{let t;if(!e)return"N/A";if(e?.toDate&&"function"==typeof e.toDate)t=e.toDate();else if(e instanceof Date)t=e;else try{let s=new Date(e.toDate());if(isNaN(s.getTime()))return"Invalid Date";t=s}catch{return"Invalid Date"}return t.toLocaleDateString()};function S(){let{toast:e}=(0,f.dj)(),[t,s]=(0,a.useState)(""),[b,S]=(0,a.useState)(""),[T,C]=(0,a.useState)(!1),[q,P]=(0,a.useState)(null),[L,F]=(0,a.useState)(!1),[E,R]=(0,a.useState)(null),[_,M]=(0,a.useState)(""),[G,O]=(0,a.useState)(""),[B,U]=(0,a.useState)(!1),[z,I]=(0,a.useState)(null),[$,X]=(0,a.useState)(!1),[Z,H]=(0,a.useState)(null),[W,Y]=(0,a.useState)(!1),[J,K]=(0,a.useState)([]),[V,Q]=(0,a.useState)(!0),[ee,et]=(0,a.useState)(null);async function es(){Q(!0),et(null);try{let e=await (0,j.N)();e.success&&e.accountTypes?K(e.accountTypes.map(e=>({...e,createdAt:e.createdAt?.toDate?e.createdAt.toDate():new Date(e.createdAt)}))):et(e.error||"Failed to load account types.")}catch(e){et(e.message||"An unexpected error occurred.")}finally{Q(!1)}}let er=async t=>{t.preventDefault(),C(!0),P(null);let r=new FormData(t.currentTarget),a=await v(r);a.success?(e({title:"Success",description:a.message}),s(""),S(""),await es()):("string"==typeof a.error?P(a.error):a.error&&"object"==typeof a.error?P(Object.values(a.error).flat().join(", ")||"An unknown validation error occurred."):P("An unknown error occurred."),e({title:"Error",description:a.message||"Failed to add account type.",variant:"destructive"})),C(!1)},ea=e=>{R(e),M(e.name),O(e.description||""),I(null),F(!0)},en=async t=>{if(t.preventDefault(),!E)return;U(!0),I(null);let s=new FormData(t.currentTarget),r=await g(E.id,s);r.success?(e({title:"Success",description:r.message}),F(!1),R(null),await es()):("string"==typeof r.error?I(r.error):r.error&&"object"==typeof r.error?I(Object.values(r.error).flat().join(", ")||"An unknown validation error occurred."):I("An unknown error occurred."),e({title:"Error",description:r.message||"Failed to update account type.",variant:"destructive"})),U(!1)},ei=e=>{H(e),X(!0)},ec=async()=>{if(!Z)return;Y(!0);let t=await y(Z);t.success?(e({title:"Success",description:t.message}),await es()):e({title:"Error",description:t.message||"Failed to delete account type.",variant:"destructive"}),Y(!1),X(!1),H(null)};return(0,r.jsxs)("div",{className:"w-full space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Manage Account Types"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Add, view, edit, and delete different types of user accounts."})]}),(0,r.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Add New Account Type"}),(0,r.jsx)(i.BT,{children:"Create a new type of account that users can select during registration."})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("form",{onSubmit:er,className:"space-y-4",children:[q&&(0,r.jsxs)(A.Fc,{variant:"destructive",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)(A.XL,{children:"Submission Error"}),(0,r.jsx)(A.TN,{children:q})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.Label,{htmlFor:"newName",children:"Account Type Name"}),(0,r.jsx)(c.p,{id:"newName",name:"name",value:t,onChange:e=>s(e.target.value),placeholder:"e.g., Premium Savings, Student Checking",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.Label,{htmlFor:"newDescription",children:"Description (Optional)"}),(0,r.jsx)(d.T,{id:"newDescription",name:"description",value:b,onChange:e=>S(e.target.value),placeholder:"Briefly describe this account type",rows:3})]}),(0,r.jsxs)(n.$,{type:"submit",disabled:T,children:[T?(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Add Account Type"]})]})})]}),(0,r.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Existing Account Types"}),(0,r.jsx)(i.BT,{children:"List of currently available account types."})]}),(0,r.jsxs)(i.Wu,{children:[V&&(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,r.jsx)(u.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("p",{className:"ml-2",children:"Loading account types..."})]}),ee&&!V&&(0,r.jsxs)(A.Fc,{variant:"destructive",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)(A.XL,{children:"Error Loading Types"}),(0,r.jsx)(A.TN,{children:ee})]}),!V&&!ee&&0===J.length&&(0,r.jsxs)(A.Fc,{children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)(A.XL,{children:"No Account Types Found"}),(0,r.jsx)(A.TN,{children:"There are no account types configured yet. Add one using the form above."})]}),!V&&!ee&&J.length>0&&(0,r.jsxs)(N.XI,{children:[(0,r.jsx)(N.A0,{children:(0,r.jsxs)(N.Hj,{children:[(0,r.jsx)(N.nd,{children:"Name"}),(0,r.jsx)(N.nd,{children:"Description"}),(0,r.jsx)(N.nd,{children:"Created At"}),(0,r.jsx)(N.nd,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(N.BF,{children:J.map(e=>(0,r.jsxs)(N.Hj,{children:[(0,r.jsx)(N.nA,{className:"font-medium",children:e.name}),(0,r.jsx)(N.nA,{className:"text-sm text-muted-foreground max-w-xs truncate",title:e.description||void 0,children:e.description||"N/A"}),(0,r.jsx)(N.nA,{children:D(e.createdAt)}),(0,r.jsxs)(N.nA,{className:"text-right space-x-1",children:[(0,r.jsx)(n.$,{variant:"ghost",size:"icon",title:"Edit Account Type",onClick:()=>ea(e),children:(0,r.jsx)(h,{className:"h-4 w-4"})}),(0,r.jsx)(n.$,{variant:"ghost",size:"icon",title:"Delete Account Type",onClick:()=>ei(e.id),className:"text-destructive hover:text-destructive/90",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})})]})]},e.id))})]})]})]}),(0,r.jsx)(w.lG,{open:L,onOpenChange:F,children:(0,r.jsxs)(w.Cf,{className:"sm:max-w-md",children:[(0,r.jsxs)(w.c7,{children:[(0,r.jsxs)(w.L3,{children:["Edit Account Type: ",E?.name]}),(0,r.jsx)(w.rr,{children:"Update the details for this account type."})]}),(0,r.jsxs)("form",{onSubmit:en,className:"space-y-4 py-4",children:[z&&(0,r.jsxs)(A.Fc,{variant:"destructive",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)(A.XL,{children:"Update Error"}),(0,r.jsx)(A.TN,{children:z})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.Label,{htmlFor:"editName",children:"Account Type Name"}),(0,r.jsx)(c.p,{id:"editName",name:"name",value:_,onChange:e=>M(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.Label,{htmlFor:"editDescription",children:"Description (Optional)"}),(0,r.jsx)(d.T,{id:"editDescription",name:"description",value:G,onChange:e=>O(e.target.value),rows:3})]}),(0,r.jsxs)(w.Es,{children:[(0,r.jsx)(w.HM,{asChild:!0,children:(0,r.jsx)(n.$,{type:"button",variant:"outline",disabled:B,children:"Cancel"})}),(0,r.jsxs)(n.$,{type:"submit",disabled:B,children:[B?(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(h,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]})}),(0,r.jsx)(k.Lt,{open:$,onOpenChange:X,children:(0,r.jsxs)(k.EO,{children:[(0,r.jsxs)(k.wd,{children:[(0,r.jsx)(k.r7,{children:"Are you sure?"}),(0,r.jsxs)(k.$v,{children:["This action cannot be undone. This will permanently delete the account type:",(0,r.jsxs)("span",{className:"font-semibold",children:[" ",J.find(e=>e.id===Z)?.name||""]}),". Users currently assigned this account type might need manual updates."]})]}),(0,r.jsxs)(k.ck,{children:[(0,r.jsx)(k.Zr,{onClick:()=>H(null),disabled:W,children:"Cancel"}),(0,r.jsxs)(k.Rx,{onClick:ec,disabled:W,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:[W?(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})}},99111:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/george/Desktop/projects/alobam-bank/src/app/admin/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/george/Desktop/projects/alobam-bank/src/app/admin/layout.tsx","default")},99196:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(82614).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,156,837,248,225,7,821,506,719,353],()=>s(27615));module.exports=r})();