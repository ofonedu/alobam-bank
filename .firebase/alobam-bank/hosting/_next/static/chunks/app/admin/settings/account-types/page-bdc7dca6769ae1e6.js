(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4530],{16336:(e,t,r)=>{Promise.resolve().then(r.bind(r,80039))},17649:(e,t,r)=>{"use strict";r.d(t,{UC:()=>F,VY:()=>B,ZD:()=>U,ZL:()=>M,bL:()=>L,hE:()=>Z,hJ:()=>E,l9:()=>R,rc:()=>O});var a=r(12115),s=r(46081),n=r(6101),i=r(15452),c=r(85185),l=r(99708),d=r(95155),o="AlertDialog",[u,h]=(0,s.A)(o,[i.Hs]),p=(0,i.Hs)(),m=e=>{let{__scopeAlertDialog:t,...r}=e,a=p(t);return(0,d.jsx)(i.bL,{...a,...r,modal:!0})};m.displayName=o;var x=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=p(r);return(0,d.jsx)(i.l9,{...s,...a,ref:t})});x.displayName="AlertDialogTrigger";var v=e=>{let{__scopeAlertDialog:t,...r}=e,a=p(t);return(0,d.jsx)(i.ZL,{...a,...r})};v.displayName="AlertDialogPortal";var f=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=p(r);return(0,d.jsx)(i.hJ,{...s,...a,ref:t})});f.displayName="AlertDialogOverlay";var j="AlertDialogContent",[y,g]=u(j),A=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:s,...o}=e,u=p(r),h=a.useRef(null),m=(0,n.s)(t,h),x=a.useRef(null);return(0,d.jsx)(i.G$,{contentName:j,titleName:w,docsSlug:"alert-dialog",children:(0,d.jsx)(y,{scope:r,cancelRef:x,children:(0,d.jsxs)(i.UC,{role:"alertdialog",...u,...o,ref:m,onOpenAutoFocus:(0,c.m)(o.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=x.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(l.xV,{children:s}),(0,d.jsx)(C,{contentRef:h})]})})})});A.displayName=j;var w="AlertDialogTitle",N=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=p(r);return(0,d.jsx)(i.hE,{...s,...a,ref:t})});N.displayName=w;var b="AlertDialogDescription",D=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=p(r);return(0,d.jsx)(i.VY,{...s,...a,ref:t})});D.displayName=b;var S=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=p(r);return(0,d.jsx)(i.bm,{...s,...a,ref:t})});S.displayName="AlertDialogAction";var T="AlertDialogCancel",k=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=g(T,r),c=p(r),l=(0,n.s)(t,s);return(0,d.jsx)(i.bm,{...c,...a,ref:l})});k.displayName=T;var C=e=>{let{contentRef:t}=e,r="`".concat(j,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(j,"` by passing a `").concat(b,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(j,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return a.useEffect(()=>{var e;document.getElementById(null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},L=m,R=x,M=v,E=f,F=A,O=S,U=k,Z=N,B=D},31949:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},34301:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},40968:(e,t,r)=>{"use strict";r.d(t,{b:()=>c});var a=r(12115),s=r(63655),n=r(95155),i=a.forwardRef((e,t)=>(0,n.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var c=i},50172:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},50594:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},68753:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var a=r(34477);let s=(0,a.createServerReference)("00395e5e4b03385e5ff3a61827ff2eda7721f4e6fd",a.callServer,void 0,a.findSourceMapURL,"getAccountTypesAction")},77223:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},80039:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var a=r(95155),s=r(12115),n=r(30285),i=r(66695),c=r(62523),l=r(85057),d=r(88539),o=r(31949),u=r(50172),h=r(34301),p=r(50594);let m=(0,r(40157).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var x=r(77223),v=r(87481),f=r(68753),j=r(34477);let y=(0,j.createServerReference)("405eb9911f33c3d30f855e4f5a1527a24f42e6c294",j.callServer,void 0,j.findSourceMapURL,"addAccountTypeAction"),g=(0,j.createServerReference)("60ff8321e9d694b897c700ee9ea58f57df8694f2ec",j.callServer,void 0,j.findSourceMapURL,"editAccountTypeAction"),A=(0,j.createServerReference)("407b998a89b103b17288a19e879fdbf57b42a451fa",j.callServer,void 0,j.findSourceMapURL,"deleteAccountTypeAction");var w=r(55365),N=r(85127),b=r(54165),D=r(90010);let S=e=>{let t;if(!e)return"N/A";if((null==e?void 0:e.toDate)&&"function"==typeof e.toDate)t=e.toDate();else if(e instanceof Date)t=e;else try{let r=new Date(e.toDate());if(isNaN(r.getTime()))return"Invalid Date";t=r}catch(e){return"Invalid Date"}return t.toLocaleDateString()};function T(){var e;let{toast:t}=(0,v.dj)(),[r,j]=(0,s.useState)(""),[T,k]=(0,s.useState)(""),[C,L]=(0,s.useState)(!1),[R,M]=(0,s.useState)(null),[E,F]=(0,s.useState)(!1),[O,U]=(0,s.useState)(null),[Z,B]=(0,s.useState)(""),[H,I]=(0,s.useState)(""),[P,$]=(0,s.useState)(!1),[_,q]=(0,s.useState)(null),[z,V]=(0,s.useState)(!1),[X,G]=(0,s.useState)(null),[Y,J]=(0,s.useState)(!1),[W,K]=(0,s.useState)([]),[Q,ee]=(0,s.useState)(!0),[et,er]=(0,s.useState)(null);async function ea(){ee(!0),er(null);try{let e=await (0,f.N)();e.success&&e.accountTypes?K(e.accountTypes.map(e=>{var t;return{...e,createdAt:(null===(t=e.createdAt)||void 0===t?void 0:t.toDate)?e.createdAt.toDate():new Date(e.createdAt)}})):er(e.error||"Failed to load account types.")}catch(e){er(e.message||"An unexpected error occurred.")}finally{ee(!1)}}(0,s.useEffect)(()=>{ea()},[]);let es=async e=>{e.preventDefault(),L(!0),M(null);let r=new FormData(e.currentTarget),a=await y(r);a.success?(t({title:"Success",description:a.message}),j(""),k(""),await ea()):("string"==typeof a.error?M(a.error):a.error&&"object"==typeof a.error?M(Object.values(a.error).flat().join(", ")||"An unknown validation error occurred."):M("An unknown error occurred."),t({title:"Error",description:a.message||"Failed to add account type.",variant:"destructive"})),L(!1)},en=e=>{U(e),B(e.name),I(e.description||""),q(null),F(!0)},ei=async e=>{if(e.preventDefault(),!O)return;$(!0),q(null);let r=new FormData(e.currentTarget),a=await g(O.id,r);a.success?(t({title:"Success",description:a.message}),F(!1),U(null),await ea()):("string"==typeof a.error?q(a.error):a.error&&"object"==typeof a.error?q(Object.values(a.error).flat().join(", ")||"An unknown validation error occurred."):q("An unknown error occurred."),t({title:"Error",description:a.message||"Failed to update account type.",variant:"destructive"})),$(!1)},ec=e=>{G(e),V(!0)},el=async()=>{if(!X)return;J(!0);let e=await A(X);e.success?(t({title:"Success",description:e.message}),await ea()):t({title:"Error",description:e.message||"Failed to delete account type.",variant:"destructive"}),J(!1),V(!1),G(null)};return(0,a.jsxs)("div",{className:"w-full space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Manage Account Types"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Add, view, edit, and delete different types of user accounts."})]}),(0,a.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Add New Account Type"}),(0,a.jsx)(i.BT,{children:"Create a new type of account that users can select during registration."})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("form",{onSubmit:es,className:"space-y-4",children:[R&&(0,a.jsxs)(w.Fc,{variant:"destructive",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)(w.XL,{children:"Submission Error"}),(0,a.jsx)(w.TN,{children:R})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Label,{htmlFor:"newName",children:"Account Type Name"}),(0,a.jsx)(c.p,{id:"newName",name:"name",value:r,onChange:e=>j(e.target.value),placeholder:"e.g., Premium Savings, Student Checking",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Label,{htmlFor:"newDescription",children:"Description (Optional)"}),(0,a.jsx)(d.T,{id:"newDescription",name:"description",value:T,onChange:e=>k(e.target.value),placeholder:"Briefly describe this account type",rows:3})]}),(0,a.jsxs)(n.$,{type:"submit",disabled:C,children:[C?(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Add Account Type"]})]})})]}),(0,a.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Existing Account Types"}),(0,a.jsx)(i.BT,{children:"List of currently available account types."})]}),(0,a.jsxs)(i.Wu,{children:[Q&&(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(u.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,a.jsx)("p",{className:"ml-2",children:"Loading account types..."})]}),et&&!Q&&(0,a.jsxs)(w.Fc,{variant:"destructive",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)(w.XL,{children:"Error Loading Types"}),(0,a.jsx)(w.TN,{children:et})]}),!Q&&!et&&0===W.length&&(0,a.jsxs)(w.Fc,{children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),(0,a.jsx)(w.XL,{children:"No Account Types Found"}),(0,a.jsx)(w.TN,{children:"There are no account types configured yet. Add one using the form above."})]}),!Q&&!et&&W.length>0&&(0,a.jsxs)(N.XI,{children:[(0,a.jsx)(N.A0,{children:(0,a.jsxs)(N.Hj,{children:[(0,a.jsx)(N.nd,{children:"Name"}),(0,a.jsx)(N.nd,{children:"Description"}),(0,a.jsx)(N.nd,{children:"Created At"}),(0,a.jsx)(N.nd,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(N.BF,{children:W.map(e=>(0,a.jsxs)(N.Hj,{children:[(0,a.jsx)(N.nA,{className:"font-medium",children:e.name}),(0,a.jsx)(N.nA,{className:"text-sm text-muted-foreground max-w-xs truncate",title:e.description||void 0,children:e.description||"N/A"}),(0,a.jsx)(N.nA,{children:S(e.createdAt)}),(0,a.jsxs)(N.nA,{className:"text-right space-x-1",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",title:"Edit Account Type",onClick:()=>en(e),children:(0,a.jsx)(m,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",title:"Delete Account Type",onClick:()=>ec(e.id),className:"text-destructive hover:text-destructive/90",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})]})]},e.id))})]})]})]}),(0,a.jsx)(b.lG,{open:E,onOpenChange:F,children:(0,a.jsxs)(b.Cf,{className:"sm:max-w-md",children:[(0,a.jsxs)(b.c7,{children:[(0,a.jsxs)(b.L3,{children:["Edit Account Type: ",null==O?void 0:O.name]}),(0,a.jsx)(b.rr,{children:"Update the details for this account type."})]}),(0,a.jsxs)("form",{onSubmit:ei,className:"space-y-4 py-4",children:[_&&(0,a.jsxs)(w.Fc,{variant:"destructive",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)(w.XL,{children:"Update Error"}),(0,a.jsx)(w.TN,{children:_})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Label,{htmlFor:"editName",children:"Account Type Name"}),(0,a.jsx)(c.p,{id:"editName",name:"name",value:Z,onChange:e=>B(e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Label,{htmlFor:"editDescription",children:"Description (Optional)"}),(0,a.jsx)(d.T,{id:"editDescription",name:"description",value:H,onChange:e=>I(e.target.value),rows:3})]}),(0,a.jsxs)(b.Es,{children:[(0,a.jsx)(b.HM,{asChild:!0,children:(0,a.jsx)(n.$,{type:"button",variant:"outline",disabled:P,children:"Cancel"})}),(0,a.jsxs)(n.$,{type:"submit",disabled:P,children:[P?(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(m,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]})}),(0,a.jsx)(D.Lt,{open:z,onOpenChange:V,children:(0,a.jsxs)(D.EO,{children:[(0,a.jsxs)(D.wd,{children:[(0,a.jsx)(D.r7,{children:"Are you sure?"}),(0,a.jsxs)(D.$v,{children:["This action cannot be undone. This will permanently delete the account type:",(0,a.jsxs)("span",{className:"font-semibold",children:[" ",(null===(e=W.find(e=>e.id===X))||void 0===e?void 0:e.name)||""]}),". Users currently assigned this account type might need manual updates."]})]}),(0,a.jsxs)(D.ck,{children:[(0,a.jsx)(D.Zr,{onClick:()=>G(null),disabled:Y,children:"Cancel"}),(0,a.jsxs)(D.Rx,{onClick:el,disabled:Y,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:[Y?(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5511,3787,1263,4443,118,8441,1684,7358],()=>t(16336)),_N_E=e.O()}]);