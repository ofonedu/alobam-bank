(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4426],{15300:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},17607:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},22102:(e,t,a)=>{Promise.resolve().then(a.bind(a,78693))},26126:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var s=a(95155);a(12115);var r=a(74466),n=a(59434);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:a}),t),...r})}},28294:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,r:()=>d});var s=a(95155),r=a(12115),n=a(99708),i=a(74466),l=a(59434);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(d({variant:r,size:i,className:a})),ref:t,...c})});o.displayName="Button"},31949:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},35695:(e,t,a)=>{"use strict";var s=a(18999);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},40968:(e,t,a)=>{"use strict";a.d(t,{b:()=>l});var s=a(12115),r=a(63655),n=a(95155),i=s.forwardRef((e,t)=>(0,n.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},44558:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]])},50172:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},50594:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},54165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>x,Es:()=>f,HM:()=>u,L3:()=>p,c7:()=>h,lG:()=>d,rr:()=>y,zM:()=>o});var s=a(95155),r=a(12115),n=a(15452),i=a(25318),l=a(59434);let d=n.bL,o=n.l9,c=n.ZL,u=n.bm,m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});m.displayName=n.hJ.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(n.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,s.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=n.UC.displayName;let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};h.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});p.displayName=n.hE.displayName;let y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});y.displayName=n.VY.displayName},55166:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]])},55365:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>d,TN:()=>c,XL:()=>o});var s=a(95155),r=a(12115),n=a(74466),i=a(59434);let l=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:r}),a),...n})});d.displayName="Alert";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});o.displayName="AlertTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...r})});c.displayName="AlertDescription"},56104:(e,t,a)=>{"use strict";let s;a.d(t,{db:()=>m,j2:()=>u});var r=a(23915),n=a(93004),i=a(35317),l=a(90858);let d="AIzaSyDDSfTetLVLe0LwCB-070TnJCk0eL5keRg",o="alobam-bank.firebaseapp.com",c="alobam-bank";if(!d)throw Error("Firebase API Key is missing. Please ensure NEXT_PUBLIC_FIREBASE_API_KEY is set correctly in your .env file and that the development server was restarted.");if(!o)throw Error("Firebase Auth Domain is missing. Please ensure NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN is set correctly in your .env file and that the development server was restarted.");c||console.warn("Firebase Project ID (NEXT_PUBLIC_FIREBASE_PROJECT_ID) is not set. This might cause issues with some Firebase services."),s=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:d,authDomain:o,projectId:c,storageBucket:"alobam-bank.firebasestorage.app",messagingSenderId:"21187336200",appId:"1:21187336200:web:83b0e0c311f5d9820219bd"});let u=(0,n.xI)(s),m=(0,i.aU)(s);(0,l.c7)(s)},57679:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},59434:(e,t,a)=>{"use strict";a.d(t,{V:()=>x,cn:()=>n,v:()=>i});var s=a(52596),r=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}function i(e,t){if(null==e)return"N/A";let a=t||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}catch(t){return console.warn("Failed to format currency with code ".concat(a,":"),t),"".concat(a," ").concat(e.toFixed(2)," (Format Error)")}}let l=["John","Jane","Michael","Emily","David","Sarah","Chris","Jessica","James","Linda","Robert","Patricia","William","Jennifer","Richard","Mary","Charles","Susan","Joseph","Karen"],d=["Smith","Doe","Johnson","Williams","Brown","Davis","Miller","Wilson","Garcia","Rodriguez","Jones","Martinez","Taylor","Anderson","Thomas","Hernandez","Moore","Martin"],o=["Kenji","Sakura","Wei","Mei","Hiroshi","Yuki","Jin","Lien","Raj","Priya","Arjun","Ananya","Min-jun","Seo-yeon","Haruto","Aoi"],c=["Tanaka","Kim","Lee","Chen","Watanabe","Park","Nguyen","Singh","Gupta","Khan","Wang","Li","Zhang","Liu","Patel","Yamamoto"],u=["Hans","Sophie","Luca","Isabelle","Miguel","Clara","Pierre","Anna","Viktor","Elena","Giovanni","Maria","Jan","Eva","Liam","Olivia"],m=["M\xfcller","Dubois","Rossi","Garc\xeda","Silva","Jansen","Novak","Ivanov","Kowalski","Andersson","Schmidt","Martin","Fern\xe1ndez","Popescu"];function x(){let e,t;let a=Math.random();a<.33?(e=l,t=d):a<.66?(e=o,t=c):(e=u,t=m);let s=e[Math.floor(Math.random()*e.length)],r=t[Math.floor(Math.random()*t.length)];return"".concat(s," ").concat(r)}},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(95155),r=a(12115),n=a(59434);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>l});var s=a(95155),r=a(12115),n=a(59434);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},75074:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},76570:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},78693:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var s=a(95155),r=a(66695),n=a(30285),i=a(62523),l=a(40157);let d=(0,l.A)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);var o=a(75074),c=a(50172),u=a(31949),m=a(17607);let x=(0,l.A)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var h=a(76570),f=a(85127),p=a(26126),y=a(12115),g=a(35317),v=a(56104),b=a(55365),j=a(54165),N=a(85057),w=a(44558),A=a(28294),k=a(98328),D=a(88390);let M=(0,l.A)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);var T=a(15300),C=a(50594),S=a(55166);let E=(0,l.A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var I=a(57679),R=a(93576),F=a(59434);let _=e=>{let{label:t,value:a,icon:r,valueClassName:n}=e;return(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsxs)(N.Label,{className:"text-xs font-semibold text-muted-foreground flex items-center",children:[r,t]}),(0,s.jsx)("div",{className:(0,F.cn)("text-sm break-words",n),children:null==a||""===a?"N/A":a})]})},L=e=>{let{status:t}=e;switch(t){case"completed":return(0,s.jsx)(p.E,{variant:"default",className:"bg-green-500 hover:bg-green-600 text-white",children:"Completed"});case"pending":return(0,s.jsx)(p.E,{variant:"secondary",children:"Pending"});case"failed":return(0,s.jsx)(p.E,{variant:"destructive",children:"Failed"});default:return(0,s.jsx)(p.E,{variant:"outline",children:t})}},z=e=>{let{type:t}=e,a=t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());"manual_credit"===t||"credit"===t?a="Credit":("manual_debit"===t||"debit"===t)&&(a="Debit");let r="capitalize";return["debit","manual_debit","withdrawal","fee","loan_repayment","transfer"].includes(t)?r+=" text-red-600":["credit","manual_credit","deposit","loan_disbursement"].includes(t)&&(r+=" text-green-600"),(0,s.jsx)("span",{className:r,children:a})},P=e=>{let t;if(!e)return"N/A";if((null==e?void 0:e.toDate)&&"function"==typeof e.toDate)t=e.toDate();else if(e instanceof Date)t=e;else try{let a=new Date(e);if(isNaN(a.getTime()))return"Invalid Date";t=a}catch(e){return"Invalid Date"}return t.toLocaleString()};function V(e){let{isOpen:t,onOpenChange:a,transaction:r}=e;return r?(0,s.jsx)(j.lG,{open:t,onOpenChange:a,children:(0,s.jsxs)(j.Cf,{className:"sm:max-w-lg",children:[(0,s.jsxs)(j.c7,{children:[(0,s.jsxs)(j.L3,{children:["Transaction Details: ",r.id]}),(0,s.jsxs)(j.rr,{children:["Viewing details for transaction ID: ",r.id,"."]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 py-4 max-h-[60vh] overflow-y-auto pr-2",children:[(0,s.jsx)(_,{icon:(0,s.jsx)(w.A,{className:"mr-2 h-4 w-4"}),label:"Transaction ID",value:r.id}),(0,s.jsx)(_,{icon:(0,s.jsx)(A.A,{className:"mr-2 h-4 w-4"}),label:"User Name",value:r.userName}),(0,s.jsx)(_,{icon:(0,s.jsx)(A.A,{className:"mr-2 h-4 w-4"}),label:"User ID",value:r.userId}),(0,s.jsx)(_,{icon:(0,s.jsx)(A.A,{className:"mr-2 h-4 w-4"}),label:"User Email",value:r.userEmail}),(0,s.jsx)(_,{icon:(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"}),label:"Date",value:P(r.date)}),(0,s.jsx)(_,{icon:(0,s.jsx)(D.A,{className:"mr-2 h-4 w-4"}),label:"Amount",value:((e,t)=>{let a=Math.abs(e).toFixed(2);return"".concat(e<0?"-":"+"," ").concat(t||"$").concat(a)})(r.amount,r.currency),valueClassName:r.amount<0?"text-red-600":"text-green-600 font-medium"}),(0,s.jsxs)("div",{className:"py-2 md:col-span-2",children:[(0,s.jsxs)(N.Label,{className:"text-xs font-semibold text-muted-foreground flex items-center",children:[(0,s.jsx)(M,{className:"mr-2 h-4 w-4"}),"Type"]}),(0,s.jsx)(z,{type:r.type})]}),(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsxs)(N.Label,{className:"text-xs font-semibold text-muted-foreground flex items-center",children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Status"]}),(0,s.jsx)(L,{status:r.status})]}),(0,s.jsx)(_,{icon:(0,s.jsx)(d,{className:"mr-2 h-4 w-4"}),label:"Flagged",value:r.isFlagged?"Yes":"No",valueClassName:r.isFlagged?"text-destructive font-semibold":""}),(0,s.jsx)("div",{className:"md:col-span-2",children:(0,s.jsx)(_,{icon:(0,s.jsx)(T.A,{className:"mr-2 h-4 w-4"}),label:"Description",value:r.description})}),r.notes&&(0,s.jsx)("div",{className:"md:col-span-2",children:(0,s.jsx)(_,{icon:(0,s.jsx)(C.A,{className:"mr-2 h-4 w-4"}),label:"Admin Notes",value:r.notes})}),r.recipientDetails&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h4",{className:"md:col-span-2 text-sm font-semibold text-muted-foreground mt-2 pt-2 border-t",children:"Recipient Details"}),(0,s.jsx)(_,{icon:(0,s.jsx)(A.A,{className:"mr-2 h-4 w-4"}),label:"Recipient Name",value:r.recipientDetails.name}),(0,s.jsx)(_,{icon:(0,s.jsx)(w.A,{className:"mr-2 h-4 w-4"}),label:"Recipient Account",value:r.recipientDetails.accountNumber}),(0,s.jsx)(_,{icon:(0,s.jsx)(S.A,{className:"mr-2 h-4 w-4"}),label:"Recipient Bank",value:r.recipientDetails.bankName}),r.recipientDetails.swiftBic&&(0,s.jsx)(_,{icon:(0,s.jsx)(E,{className:"mr-2 h-4 w-4"}),label:"SWIFT/BIC",value:r.recipientDetails.swiftBic}),r.recipientDetails.country&&(0,s.jsx)(_,{icon:(0,s.jsx)(I.A,{className:"mr-2 h-4 w-4"}),label:"Country",value:r.recipientDetails.country})]}),r.authorizationDetails&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h4",{className:"md:col-span-2 text-sm font-semibold text-muted-foreground mt-2 pt-2 border-t",children:"Authorization Details"}),void 0!==r.authorizationDetails.cot&&(0,s.jsx)(_,{icon:(0,s.jsx)(D.A,{className:"mr-2 h-4 w-4"}),label:"Cost of Transfer (COT)",value:"$".concat(r.authorizationDetails.cot.toFixed(2))}),(0,s.jsx)(_,{icon:(0,s.jsx)(R.A,{className:"mr-2 h-4 w-4"}),label:"IMF Code Provided",value:r.authorizationDetails.imfCodeProvided?"Yes":"No"}),r.authorizationDetails.taxDocumentName&&(0,s.jsx)(_,{icon:(0,s.jsx)(T.A,{className:"mr-2 h-4 w-4"}),label:"Tax Document",value:r.authorizationDetails.taxDocumentName})]})]}),(0,s.jsx)(j.Es,{children:(0,s.jsx)(j.HM,{asChild:!0,children:(0,s.jsx)(n.$,{variant:"outline",children:"Close"})})})]})}):null}var O=a(34477);let B=(0,O.createServerReference)("70918b3db47f128654f2868d514fdbe3da25273a17",O.callServer,void 0,O.findSourceMapURL,"markTransactionAsCompletedAction");var H=a(87481),U=a(35695);let J=e=>{let{status:t}=e;switch(t){case"completed":return(0,s.jsx)(p.E,{variant:"default",className:"bg-green-500 hover:bg-green-600 text-white",children:"Completed"});case"pending":return(0,s.jsx)(p.E,{variant:"secondary",children:"Pending"});case"failed":return(0,s.jsx)(p.E,{variant:"destructive",children:"Failed"});default:return(0,s.jsx)(p.E,{variant:"outline",children:t})}},G=e=>{let{type:t}=e,a=t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());"credit"===t?a="Credit":"debit"===t&&(a="Debit");let r="capitalize";return["debit","withdrawal","fee","loan_repayment","transfer"].includes(t)?r+=" text-red-600":["credit","deposit","loan_disbursement"].includes(t)&&(r+=" text-green-600"),(0,s.jsx)("span",{className:r,children:a})},W=e=>{let t;if(!e)return"N/A";if((null==e?void 0:e.toDate)&&"function"==typeof e.toDate)t=e.toDate();else if(e instanceof Date)t=e;else try{let a=new Date(e);if(isNaN(a.getTime()))return"Invalid Date";t=a}catch(e){return"Invalid Date"}return t.toLocaleString()};function $(){let{toast:e}=(0,H.dj)(),[t,a]=(0,y.useState)([]),[l,p]=(0,y.useState)(""),[j,N]=(0,y.useState)(!1),[w,A]=(0,y.useState)(!0),[k,D]=(0,y.useState)(null),[M,T]=(0,y.useState)("All Transactions"),[C,S]=(0,y.useState)(!1),[E,I]=(0,y.useState)(null),[R,_]=(0,y.useState)(null),L=(0,U.useSearchParams)().get("userId"),z=async()=>{A(!0),D(null);try{let e=(0,g.rJ)(v.db,"transactions"),t=[(0,g.My)("date","desc")],s=new Map,r=new Map;if(L){t.unshift((0,g._M)("userId","==",L));try{let e=(0,g.H9)(v.db,"users",L),t=await (0,g.x7)(e);if(t.exists()){let e=t.data(),a=e.displayName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||(0,F.V)();T("Transactions for ".concat(a)),s.set(L,a),e.email&&r.set(L,e.email)}else T("Transactions for User ID: ".concat(L)),s.set(L,(0,F.V)())}catch(e){console.error("Failed to fetch user details for page title:",e),T("Transactions for User ID: ".concat(L)),s.set(L,(0,F.V)())}}else{T("All Transactions");let e=(0,g.rJ)(v.db,"users");(await (0,g.GG)(e)).forEach(e=>{let t=e.data();s.set(e.id,t.displayName||"".concat(t.firstName||""," ").concat(t.lastName||"").trim()||(0,F.V)()),t.email&&r.set(e.id,t.email)})}let n=(0,g.P)(e,...t),i=(await (0,g.GG)(n)).docs.map(e=>{let t;let a=e.data();t=a.date&&a.date.toDate?a.date.toDate():a.date instanceof Date?a.date:new Date(a.date);let n=s.get(a.userId)||(0,F.V)(),i=r.get(a.userId)||void 0;return{id:e.id,...a,date:t,userName:n,userEmail:i}});a(i)}catch(e){console.error("Error fetching transactions:",e),D("Failed to fetch transactions. Please try again.")}finally{A(!1)}};(0,y.useEffect)(()=>{z()},[L]);let P=e=>{I(e),S(!0)},O=async t=>{if("pending"!==t.status)return;_(t.id);let a=await B(t.id,t.userId,t.amount);a.success?(e({title:"Success",description:a.message}),await z()):e({title:"Error",description:a.message||"Failed to mark as completed.",variant:"destructive"}),_(null)},$=t.filter(e=>{let t=e.id.toLowerCase().includes(l.toLowerCase())||e.userId.toLowerCase().includes(l.toLowerCase())||e.userName&&e.userName.toLowerCase().includes(l.toLowerCase())||e.userEmail&&e.userEmail.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase()),a=!j||e.isFlagged;return t&&a});return(0,s.jsxs)("div",{className:"w-full space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Manage Transactions"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Oversee all platform transactions and review potentially fraudulent activity."})]}),(0,s.jsxs)(n.$,{variant:"outline",onClick:()=>N(!j),className:(0,F.cn)("w-full sm:w-auto",j&&"border-destructive text-destructive hover:bg-destructive/10"),children:[(0,s.jsx)(d,{className:"mr-2 h-4 w-4"}),j?"Showing Flagged Only":"Filter Flagged"]})]}),(0,s.jsxs)(r.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsxs)(r.ZB,{children:[M," (",w?"Loading...":$.length,")"]}),(0,s.jsx)(r.BT,{children:"View, filter, and manage transactions."}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsxs)("div",{className:"relative w-full max-w-lg",children:[(0,s.jsx)(o.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(i.p,{placeholder:"Search by Txn ID, User, Email, Description...",className:"pl-10",value:l,onChange:e=>p(e.target.value)})]})})]}),(0,s.jsx)(r.Wu,{children:w?(0,s.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,s.jsx)(c.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("p",{className:"ml-2",children:"Loading transactions..."})]}):k?(0,s.jsxs)(b.Fc,{variant:"destructive",className:"my-4",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),(0,s.jsx)(b.XL,{children:"Error Loading Transactions"}),(0,s.jsx)(b.TN,{children:k})]}):0!==$.length||l||j||L?0===$.length?(0,s.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No transactions match your current filters."}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(f.XI,{children:[(0,s.jsx)(f.A0,{children:(0,s.jsxs)(f.Hj,{children:[(0,s.jsx)(f.nd,{children:"Txn ID"}),(0,s.jsx)(f.nd,{children:"User"}),(0,s.jsx)(f.nd,{children:"Date"}),(0,s.jsx)(f.nd,{children:"Description"}),(0,s.jsx)(f.nd,{className:"text-right",children:"Amount"}),(0,s.jsx)(f.nd,{children:"Type"}),(0,s.jsx)(f.nd,{children:"Status"}),(0,s.jsx)(f.nd,{children:"Flagged"}),(0,s.jsx)(f.nd,{className:"text-center",children:"Actions"})]})}),(0,s.jsx)(f.BF,{children:$.map(e=>(0,s.jsxs)(f.Hj,{className:e.isFlagged?"bg-destructive/10 hover:bg-destructive/20":"",children:[(0,s.jsx)(f.nA,{className:"font-mono text-xs",children:e.id}),(0,s.jsxs)(f.nA,{children:[(0,s.jsx)("div",{children:e.userName||"N/A"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.userEmail||e.userId})]}),(0,s.jsx)(f.nA,{children:W(e.date)}),(0,s.jsx)(f.nA,{className:"max-w-[200px] truncate",title:e.description,children:e.description}),(0,s.jsxs)(f.nA,{className:(0,F.cn)("text-right font-medium",e.amount<0?"text-red-600":"text-green-600"),children:[e.amount<0?"-":"+"," $",Math.abs(e.amount).toFixed(2)," ",e.currency]}),(0,s.jsx)(f.nA,{children:(0,s.jsx)(G,{type:e.type})}),(0,s.jsx)(f.nA,{children:(0,s.jsx)(J,{status:e.status})}),(0,s.jsx)(f.nA,{className:"text-center",children:e.isFlagged?(0,s.jsx)(d,{className:"h-5 w-5 text-destructive mx-auto"}):"-"}),(0,s.jsxs)(f.nA,{className:"text-center space-x-1",children:[(0,s.jsx)(n.$,{variant:"ghost",size:"icon",title:"View Details",onClick:()=>P(e),children:(0,s.jsx)(m.A,{className:"h-4 w-4"})}),"pending"===e.status&&(0,s.jsx)(n.$,{variant:"ghost",size:"icon",title:"Mark as Completed",onClick:()=>O(e),disabled:R===e.id,className:"text-green-600 hover:text-green-700",children:R===e.id?(0,s.jsx)(c.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(x,{className:"h-4 w-4"})}),e.isFlagged&&(0,s.jsx)(n.$,{variant:"ghost",size:"icon",title:"Mark as Reviewed (Action Placeholder)",disabled:!0,children:(0,s.jsx)(h.A,{className:"h-4 w-4"})})]})]},e.id))})]})}):(0,s.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No transactions found."})})]}),E&&(0,s.jsx)(V,{isOpen:C,onOpenChange:S,transaction:E})]})}function q(){return(0,s.jsx)(y.Suspense,{fallback:(0,s.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,s.jsx)(c.A,{className:"h-8 w-8 animate-spin text-primary"})," Loading transactions page..."]}),children:(0,s.jsx)($,{})})}},85057:(e,t,a)=>{"use strict";a.d(t,{Label:()=>o});var s=a(95155),r=a(12115),n=a(40968),i=a(74466),l=a(59434);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,l.cn)(d(),a),...r})});o.displayName=n.b.displayName},85127:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,BF:()=>d,Hj:()=>o,XI:()=>i,nA:()=>u,nd:()=>c});var s=a(95155),r=a(12115),n=a(59434);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...r})})});i.displayName="Table";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...r})});l.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...r})});d.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});o.displayName="TableRow";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});c.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});u.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},87481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var s=a(12115);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=l(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},88390:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},93576:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]])},98328:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,6073,5511,3787,4602,1263,4443,8441,1684,7358],()=>t(22102)),_N_E=e.O()}]);